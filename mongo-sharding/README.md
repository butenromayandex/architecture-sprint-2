# mongo-sharding

### Что реализовано
- Реализовано шардирование по примеру из урока.


## Как запустить

Неоходимо некоторые скрипты сделать исполняемыми.
Для этого выполните команды ниже

```shell
chmod +x ./init.sh
chmod +x ./check-shards.sh
```

И запустить инициализацию

```shell
./init.sh
```

Для остановки проекта
```shell
docker compose stop
```

Запустить проект
```shell
docker compose up -d
```

## Как проверить

Команда, которая выполняет подсчёт документов в shard1, shard2 и общее кол-во документов.
```shell
./check-shards.sh
```
Команда по очереди выполнит запрос в каждый шард (shard1, shard2) на подсчёт количества 
документов в somedb.helloDoc коллекции.


### Если вы запускаете проект на локальной машине

Откройте в браузере http://localhost:8080

### Если вы запускаете проект на предоставленной виртуальной машине

Узнать белый ip виртуальной машины

```shell
curl --silent http://ifconfig.me
```

Откройте в браузере http://<ip виртуальной машины>:8080

## Доступные эндпоинты

Список доступных эндпоинтов, swagger http://<ip виртуальной машины>:8080/docs
